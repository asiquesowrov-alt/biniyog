<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Profile</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:linear-gradient(135deg,#87ceeb,#e0f7ff); /* SKY COLOR */
}
.header{
    background:#0288d1;
    color:white;
    padding:15px;
    text-align:center;
    font-size:22px;
}
.container{
    max-width:420px;
    margin:20px auto;
    background:#ffffff;
    padding:20px;
    border-radius:14px;
    box-shadow:0 6px 15px rgba(0,0,0,0.2);
}
.profile-pic{
    text-align:center;
}
.profile-pic img{
    width:110px;
    height:110px;
    border-radius:50%;
    object-fit:cover;
    border:3px solid #0288d1;
}
.profile-pic input{
    display:none;
}
.upload-btn{
    margin-top:10px;
    background:#0288d1;
    color:white;
    padding:7px 16px;
    border-radius:6px;
    display:inline-block;
    cursor:pointer;
    font-size:14px;
}
.info{
    text-align:center;
    margin-top:15px;
    font-size:18px;
    font-weight:bold;
    color:#333;
}
hr{
    margin:20px 0;
}
h3{
    margin-bottom:12px;
    color:#0288d1;
}
input{
    width:100%;
    padding:12px;
    margin-bottom:12px;
    border-radius:8px;
    border:1px solid #ccc;
    font-size:15px;
}
button{
    width:100%;
    padding:12px;
    background:#0288d1;
    color:white;
    border:none;
    border-radius:8px;
    font-size:17px;
    cursor:pointer;
}
button:hover{
    background:#01579b;
}
</style>
</head>

<body>

<div class="header">My Profile</div>

<div class="container">

    <!-- Profile Image -->
    <div class="profile-pic">
        <img id="profileImg" src="" alt="Profile">
        <br>
        <label class="upload-btn">
            Upload Photo
            <input type="file" accept="image/*" onchange="uploadImage(event)">
        </label>
    </div>

    <!-- User Name -->
    <div class="info" id="userName">Name</div>

    <hr>

    <!-- Change Password -->
    <h3>Change Password</h3>

    <input type="password" id="oldPass" placeholder="Old Password">
    <input type="password" id="newPass" placeholder="New Password">
    <input type="password" id="rePass" placeholder="Repeat New Password">

    <button onclick="changePassword()">Update Password</button>

</div>

<script>
// Load user data
let userName = localStorage.getItem("name") || "User";
let userPass = localStorage.getItem("password") || "";
let img = localStorage.getItem("profileImage");

document.getElementById("userName").innerText = userName;
document.getElementById("profileImg").src = img ? img : "https://via.placeholder.com/110";

// Upload profile image
function uploadImage(e){
    let file = e.target.files[0];
    let reader = new FileReader();
    reader.onload = function(){
        localStorage.setItem("profileImage", reader.result);
        document.getElementById("profileImg").src = reader.result;
    }
    reader.readAsDataURL(file);
}

// Change password
function changePassword(){
    let oldP = document.getElementById("oldPass").value;
    let newP = document.getElementById("newPass").value;
    let reP  = document.getElementById("rePass").value;

    if(oldP==="" || newP==="" || reP===""){
        alert("সব ঘর পূরণ করুন");
        return;
    }
    if(oldP !== userPass){
        alert("Old password ভুল");
        return;
    }
    if(newP !== reP){
        alert("New password মিলছে না");
        return;
    }

    localStorage.setItem("password", newP);
    alert("Password successfully changed");

    document.getElementById("oldPass").value="";
    document.getElementById("newPass").value="";
    document.getElementById("rePass").value="";
}
</script>

</body>
</html>
